{% extends 'base.html' %}
{% load static %}

{% block title %}
Mini Game: {{game.name}}
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/detail.css' %}"> 
{% endblock %}

{% block content %}
    <section class="game_section game_section_board">
        <h1>board</h1>
    </section>
    <section class = "game_section game_section_sidebar">
        <div class="game_section_sidebar_top">
            <article class="sidebar_top__player_info">
                <h2>Player INFO</h2>
            </article>
            <article class="sidebar_top__game_stats">
                <h2>Player STATS</h2>
            </article>
            <article class="sidebar_top__game_actions">
                <h2>Player Actions</h2>
            </article>
            <article class="sidebar_top__global_actions">
            <ul>
                {% if player_in_game %}
                <li><h4 class="--green"><a href ="{% url 'game_end_turn' game.id%}">End Turn</span></a></h4></li>
                <li><h4><a href ="{% url 'game_end' game.id%}"><span style ="color:red; text-align:center;">End Game</span></a></h4></li>
                <li><h4><a href ="{% url 'game_leave' game.id%}"><span style ="color:gray; text-align:center;">Leave Game</span></a></h4></li>
                {% elif  game.is_played %}
    
                <strong>Spectator Mode</strong>
                    {% else %}
                    <li><h4><a href ="{% url 'game_start' game.id%}"><span style ="color:gray; text-align:center;">Start Game</span></a></h4></li>
                    <li><h4><a href ="{% url 'player_ready' game.id%}"><span style ="color:green; text-align:center;">Ready</span></a></h4></li>
                    {% endif %}
                    {% if user.username == game.host %}
                <li><h4 class="--red"></h4><a href ="{% url 'delete_gam' game.id%}">Delete</a></h4></li>
                    {% endif %}
                <li><h4><a href ="{% url 'home'%}"><strong>Home</strong></a></h4></li>
            </ul>
        </article>
        </div>
        <hr>
        <div class="game_section_sidebar_bottom">
            <h4>Hosted by {{game.host}}</h4>
            {% if game.is_played %}
            <h5 class = "--green"">Game has already started!</h5>
                {% else %}
            <h5 class  = "--gray">Game hasn't started yet.</h5>
                {% endif %}
            <hr>
                {% if game.is_played %}
            <p>Players in game: (
                {% for player in players_playing %}
                {{player}},
                {% endfor %})
            </p>
            <hr>
            <ul>
                {{game.turn_of_player}} turn!
                    {% else %}
                <li>Players Ready :{{game.how_many_players_ready}} ({% for player in players_ready %}{{player}},</li>
                    {% endfor %})
                <li>Max Players: {{game.max_players}}</li>
                    {% endif %}
            </ul>
        </div>
    </section>
</div>
{% endblock %}
